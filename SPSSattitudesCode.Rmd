---
title: "SPSS Attitudes Measure Validation"
author: "Udi Alter"
date: "13/07/2020"
output: html_document
        md_keep = TRUE
---
```{r Loading Packages}
library(readr)
library(haven)
library(tidyverse)
library(lavaan)
library(psych)
library(mirt)
library(rsample)

```



```{r Uploading data and cleaning}

# Uploading raw data
spss.data <- readxl::read_xlsx("spssdata.xlsx", col_names = TRUE)
View(spss.data)


# Selecting only SPSS-related columns
spss.data <- spss.data %>% 
             select(SPSS1E,
                    SPSS2E,
                    SPSS3E,
                    SPSS4E,
                    SPSS5E,
                    SPSS6E,
                    SPSS7E,
                    SPSS8E,
                    SPSS9E,
                    SPSS10E)
spss.data$
# Descriptive Statistics
multi.hist(spss.data) 
summary(spss.data)
describe(spss.data)
boxplot(spss.data)
sum(is.na(spss.data))
sum(is.na(spss.data))/(10*181)
```

questions <- c("SPSS1E","SPSS2E", "SPSS3E", "SPSS4E", "SPSS5E", "SPSS6E", "SPSS7E", "SPSS8E", "SPSS9E", "SPSS10E")


typeof(spss.data)


for (i in 1:10) {
                       x <- as.character(questions[i])
                       multi.hist(spss.data$x) 
                       summary(spss.data$x)
                       describe(spss.data$x)
                       boxplot(spss.data$x)
                       sum(is.na(spss.data$x))
                       table(spss.data$x)
                      }

```{r}

data.split <- initial_split(spss.data, prop = 0.19/.81)

efa.spss <- training(data.split)
cfa.spss <- testing(data.split)

View(efa.spss)
View(cfa.spss)
tail(efa.spss)

```



```